{"version":3,"sources":["Layout.tsx","service/cronos.ts","Transaction.tsx","settings.ts","Account.tsx","Accounts.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["TabPane","Tabs","Layout","location","useLocation","navigate","useNavigate","activatedKey","pathname","slice","Fragment","defaultActiveKey","onChange","key","tab","TransactionStatus","CronosService","url","web3","this","Web3","providers","HttpProvider","txHash","eth","getTransactionReceipt","receipt","status","NotOnChain","FailedOnChain","SuccessOnChain","getBlockNumber","account","getBalance","balance","BigNumber","contractAddress","contract","Contract","crc20abi","methods","balanceOf","call","utils","isAddress","Transaction","props","React","useState","transactionRows","setTransactionRecords","handleSearch","value","a","requestedAt","Date","cronosService","getTransactionRecord","transactionRecord","record","now","openError","toString","direction","Search","placeholder","enterButton","size","onSearch","style","width","dataSource","columns","pagination","title","dataIndex","render","toLocaleString","QuestionCircleTwoTone","fontSize","CheckCircleTwoTone","twoToneColor","CloseCircleTwoTone","row","index","target","rel","href","Panel","header","iconStyle","collapsed","src","description","notification","error","message","CRO","name","symbol","decimalPlaces","DEFAULT_SETTINGS","version","accounts","tokens","Account","time","blockNumber","lastUpdatedAt","setLastUpdatedAt","balanceRows","setBalanceRows","fetchUpdates","getBlockHeight","CROToken","tokenBalancePromises","map","token","getCRC20Balance","Promise","all","balances","rows","i","dividedBy","pow","toFormat","currencyFormat","suffix","useEffect","length","timer","setInterval","clearInterval","toUTCString","extra","onClick","onRemoveFromWishList","align","fontFamily","prefix","decimalSeparator","groupSeparator","groupSize","secondaryGroupSize","fractionGroupSeparator","fractionGroupSize","Accounts","accountFilter","setAccountFilter","onAddAccountToWatchList","err","textAlign","UserOutlined","e","reduce","includes","push","onRemoveAccountFromWishList","App","useLocalStorage","settings","setSettings","className","path","element","isValidAddress","Error","indexOf","filter","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f78c23a6.chunk.js","sourcesContent":["import React from 'react';\nimport { Tabs } from 'antd';\nimport { Outlet, useLocation, useNavigate } from 'react-router-dom';\n\nconst { TabPane } = Tabs;\n\nexport default function Layout() {\n    const location = useLocation();\n    const navigate = useNavigate();\n\n    const handleTabChange = (key: string) => {\n        switch (key){\n            case 'accounts':\n                navigate('/accounts');\n                break;\n            case 'transaction':\n                navigate('/transaction');\n                break;\n            case 'settings':\n                navigate('/settings');\n                break;\n        }\n    }\n\n    const activatedKey = location.pathname.slice(1);\n\n    return (\n        <React.Fragment>\n            <Tabs defaultActiveKey={activatedKey} onChange={handleTabChange}>\n                <TabPane tab=\"Accounts Balances\" key=\"accounts\"> </TabPane>\n                <TabPane tab=\"Query Transaction Status\" key=\"transaction\"> </TabPane>\n                {/* <TabPane tab=\"Settings\" key=\"settings\" ></TabPane> */}\n            </Tabs>\n            <Outlet />\n        </React.Fragment>\n    );\n}\n","import crc20abi from '../contractABI/crc20.json';\nimport BigNumber from 'bignumber.js';\nimport Web3 from 'web3';\nimport { TransactionReceipt } from 'web3-eth';\nexport type { TransactionReceipt } from 'web3-eth';\n\nexport enum TransactionStatus {\n    NotOnChain = 'Not on Chain',\n    SuccessOnChain = 'Success on chain',\n    FailedOnChain = 'Failed on chain',\n}\n\nexport default class CronosService {\n    private web3: Web3;\n\n    public constructor(private url: string) {\n        this.web3 = new Web3(new Web3.providers.HttpProvider(url));\n    }\n\n    public async getTransactionRecord(txHash: string): Promise<TransactionRecord> {\n        const receipt = await this.web3.eth.getTransactionReceipt(txHash)\n\n        if (receipt === null) {\n            return {\n                status: TransactionStatus.NotOnChain,\n            }\n        }\n\n        if (!receipt.status) {\n            return {\n                status: TransactionStatus.FailedOnChain,\n                receipt: receipt,\n            }\n        }\n\n        return {\n            status: TransactionStatus.SuccessOnChain,\n            receipt: receipt,\n        }\n    }\n\n    public async getBlockHeight(): Promise<number> {\n        return this.web3.eth.getBlockNumber();\n    }\n\n    public async getBalance(account: string): Promise<BigNumber> {\n        const balance = await this.web3.eth.getBalance(account);\n        return new BigNumber(balance);\n    }\n\n    public async getCRC20Balance(account: string, contractAddress: string): Promise<BigNumber> {\n        const contract = new this.web3.eth.Contract(crc20abi as any, contractAddress);\n        const balance = await contract.methods.balanceOf(account).call();\n        return new BigNumber(balance);\n    }\n\n    public isValidAddress(account: string): boolean {\n        return this.web3.utils.isAddress(account);\n    }\n}\n\nexport type TransactionRecord = {\n    status: TransactionStatus,\n    receipt?: TransactionReceipt,\n} & ({\n    status: TransactionStatus.NotOnChain\n} | {\n    status: TransactionStatus.SuccessOnChain\n    receipt: TransactionReceipt,\n} | {\n    status: TransactionStatus.FailedOnChain,\n    receipt: TransactionReceipt,\n})","import React from \"react\";\nimport { Collapse, Input, Space, Table, notification } from \"antd\";\nimport {\n  CheckCircleTwoTone,\n  CloseCircleTwoTone,\n  QuestionCircleTwoTone,\n} from \"@ant-design/icons\";\nimport ReactJson from \"react-json-view\";\nimport CronosService, {\n  TransactionStatus,\n  TransactionReceipt,\n} from \"./service/cronos\";\n\nexport default function Transaction(props: Props) {\n  const [transactionRows, setTransactionRecords] = React.useState<\n    TransactionRow[]\n  >([]);\n\n  const prependTransactionRecords = (record: TransactionRow) => {\n    setTransactionRecords([record, ...transactionRows]);\n  };\n\n  const handleSearch: AntdInputOnSearchFn = async (value) => {\n    if (value === \"\") {\n      return;\n    }\n    const requestedAt = new Date();\n    try {\n      const transactionRecord = await props.cronosService.getTransactionRecord(\n        value\n      );\n\n      prependTransactionRecords({\n        key: Date.now(),\n        txHash: value,\n        requestedAt,\n        status: transactionRecord.status,\n        receipt: transactionRecord.receipt,\n      });\n    } catch (err) {\n      openError(\"Get Transaction Error\", (err as Error).toString());\n      return;\n    }\n  };\n\n  return (\n    <React.Fragment>\n      <Space direction=\"vertical\">\n        <Input.Search\n          placeholder=\"Transaction Hash\"\n          enterButton=\"Query\"\n          size=\"large\"\n          onSearch={handleSearch}\n          style={{width: 650}}\n        />\n      </Space>\n      <Table dataSource={transactionRows} columns={columns} pagination={false} />;\n    </React.Fragment>\n  );\n}\n\ntype Props = {\n  cronosService: CronosService;\n};\n\ntype TransactionRow = {\n  key: number;\n  requestedAt: Date;\n  txHash: string;\n  status: TransactionStatus;\n  receipt?: TransactionReceipt;\n};\n\nconst columns = [\n  {\n    title: \"Requested At\",\n    dataIndex: \"requestedAt\",\n    key: \"requestedAt\",\n    render: (value: Date) => <span>{value.toLocaleString()}</span>,\n  },\n  {\n    title: \"Status\",\n    dataIndex: \"status\",\n    key: \"status\",\n    render: (value: TransactionStatus) => {\n      switch (value) {\n        case TransactionStatus.NotOnChain:\n          return <QuestionCircleTwoTone style={{ fontSize: 22 }} />;\n        case TransactionStatus.SuccessOnChain:\n          return (\n            <CheckCircleTwoTone\n              twoToneColor=\"#52c41a\"\n              style={{ fontSize: 22 }}\n            />\n          );\n        case TransactionStatus.FailedOnChain:\n          return (\n            <CloseCircleTwoTone\n              twoToneColor=\"#eb2f96\"\n              style={{ fontSize: 22 }}\n            />\n          );\n      }\n    },\n  },\n  {\n    title: \"Transaction Hash\",\n    dataIndex: \"txHash\",\n    key: \"txHash\",\n    render: (value: string, row: TransactionRow, index: number) => {\n      return (\n        <React.Fragment>\n          <a\n            target=\"_blank\"\n            rel=\"noreferrer\"\n            href={`https://cronos.crypto.org/explorer/tx/${value}`}\n          >\n            {value}\n          </a>\n          <Collapse>\n            <Collapse.Panel header=\"Transaction Receipt\" key=\"receipt\">\n              {!!row.receipt && (\n                <ReactJson\n                  iconStyle=\"square\"\n                  collapsed={1}\n                  src={row.receipt!}\n                />\n              )}\n            </Collapse.Panel>\n          </Collapse>\n        </React.Fragment>\n      );\n    },\n  },\n];\n\ntype AntdInputOnSearchFn = (\n  value: string,\n  event?:\n    | React.ChangeEvent<HTMLInputElement>\n    | React.MouseEvent<HTMLElement>\n    | React.KeyboardEvent<HTMLInputElement>\n) => void;\n\nconst openError = (title: string, description: string) => {\n  notification.error({\n    message: title,\n    description,\n  });\n};\n","export type Settings = {\n  version: 1;\n  accounts: string[];\n  tokens: Token[];\n};\n\nexport type Token = TokenV1;\n\nexport type TokenV1 = {\n  name: string;\n  symbol: string;\n  contractAddress: string;\n  decimalPlaces: number;\n};\n\nexport const CRO: Token = {\n  name: \"CRO\",\n  symbol: \"CRO\",\n  contractAddress: \"\",\n  decimalPlaces: 18,\n};\n\nexport const DEFAULT_SETTINGS: Settings = {\n  version: 1,\n  accounts: [],\n  tokens: [\n    {\n      name: \"Dai Stablecoin\",\n      symbol: \"DAI\",\n      contractAddress: \"0xf2001b145b43032aaf5ee2884e456ccd805f677d\",\n      decimalPlaces: 18,\n    },\n    {\n      name: \"Tether USD\",\n      symbol: \"USDT\",\n      contractAddress: \"0x66e428c3f67a68878562e79A0234c1F83c208770\",\n      decimalPlaces: 6,\n    },\n    {\n      name: \"USD Coin\",\n      symbol: \"USDC\",\n      contractAddress: \"0xc21223249CA28397B4B6541dfFaEcC539BfF0c59\",\n      decimalPlaces: 6,\n    },\n    {\n      name: \"VVSToken\",\n      symbol: \"VVS\",\n      contractAddress: \"0x2D03bECE6747ADC00E1a131BBA1469C15fD11e03\",\n      decimalPlaces: 18,\n    },\n    {\n      name: \"Wrapped BTC\",\n      symbol: \"WBTC\",\n      contractAddress: \"0x062E66477Faf219F25D27dCED647BF57C3107d52\",\n      decimalPlaces: 8,\n    },\n    {\n      name: \"Wrapped ETH\",\n      symbol: \"WETH\",\n      contractAddress: \"0xe44Fd7fCb2b1581822D0c862B68222998a0c299a\",\n      decimalPlaces: 18,\n    },\n    {\n      name: \"Shiba\",\n      symbol: \"SHIB\",\n      contractAddress: \"0xbED48612BC69fA1CaB67052b42a95FB30C1bcFee\",\n      decimalPlaces: 18,\n    },\n    {\n      name: \"Doge\",\n      symbol: \"DOGE\",\n      contractAddress: \"0x1a8E39ae59e5556B56b76fCBA98d22c9ae557396\",\n      decimalPlaces: 8,\n    },\n  ],\n};\n","import React from \"react\";\nimport { Button, Card, Table } from \"antd\";\nimport CronosService from \"./service/cronos\";\nimport { CRO as CROToken, Token } from \"./settings\";\nimport BigNumber from \"bignumber.js\";\n\nexport default function Account(props: Props) {\n  const [lastUpdatedAt, setLastUpdatedAt] = React.useState<LastUpdatedAt>({\n    time: new Date(),\n    blockNumber: 0,\n  });\n  const [balanceRows, setBalanceRows] = React.useState<BalanceRow[]>([]);\n\n  const fetchUpdates = async () => {\n    const blockNumber = await props.cronosService.getBlockHeight();\n\n    const tokens = [CROToken, ...props.tokens];\n    const tokenBalancePromises = tokens.map((token) => {\n      if (token === CROToken) {\n        return props.cronosService.getBalance(props.account);\n      } else {\n        return props.cronosService.getCRC20Balance(\n          props.account,\n          token.contractAddress\n        );\n      }\n    });\n\n    const balances = await Promise.all(tokenBalancePromises);\n    const rows = balances.map((balance, i) => {\n      const token = tokens[i];\n      return {\n        key: token.name,\n        name: token.name,\n        balance: balance\n          .dividedBy(new BigNumber(10).pow(token.decimalPlaces))\n          .toFormat(token.decimalPlaces, {\n            ...currencyFormat,\n            suffix: ` ${token.symbol}`,\n          }),\n      };\n    });\n\n    setBalanceRows(rows);\n\n    setLastUpdatedAt({\n      time: new Date(),\n      blockNumber,\n    });\n  };\n\n  React.useEffect(() => {\n    if (balanceRows.length === 0) {\n      fetchUpdates();\n    }\n    const timer = setInterval(() => {\n      fetchUpdates();\n    }, 15000);\n    return () => clearInterval(timer);\n  });\n\n  return (\n    <Card title={(\n      <React.Fragment>\n      <div>\n        <a\n          target=\"_blank\"\n          rel=\"noreferrer\"\n          href={`https://cronos.crypto.org/explorer/address/${props.account}`}\n        >\n          {props.account}\n        </a>\n      </div>\n      <div>\n        {lastUpdatedAt.time.toUTCString()} at Block #{lastUpdatedAt.blockNumber}\n      </div>\n\n      </React.Fragment>\n    )} extra={(\n      <Button\n        onClick={() => props.onRemoveFromWishList()}\n      >Remove</Button>)\n    } style={{ width: 600 }}>\n      <Table dataSource={balanceRows} columns={columns} pagination={false} />\n    </Card>\n  )\n}\n\ntype Props = {\n  cronosService: CronosService;\n  onRemoveFromWishList: () => void;\n\n  account: string;\n  tokens: Token[];\n};\n\ntype LastUpdatedAt = {\n  time: Date,\n  blockNumber: number,\n}\n\ntype BalanceRow = {\n  key: string;\n  name: string;\n  balance: string;\n};\n\nconst columns = [\n  {\n    title: \"Token\",\n    dataIndex: \"name\",\n    key: \"name\",\n  },\n  {\n    title: \"Balance\",\n    dataIndex: \"balance\",\n    key: \"balance\",\n    align: \"right\" as const,\n    render: (value: string) => (\n      <span style={{\n        fontFamily: 'Nunito,Helvetica Neue,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol'\n      }}>\n        {value}\n      </span>\n    )\n  },\n];\n\nconst currencyFormat: BigNumber.Format = {\n  prefix: '',\n  decimalSeparator: '.',\n  groupSeparator: ',',\n  groupSize: 3,\n  secondaryGroupSize: 0,\n  fractionGroupSeparator: ' ',\n  fractionGroupSize: 0,\n  suffix: ''\n}","import React, { ChangeEventHandler } from \"react\";\nimport { Input, notification, Space } from \"antd\";\nimport { UserOutlined } from \"@ant-design/icons\";\nimport Account from \"./Account\";\nimport CronosService from \"./service/cronos\";\nimport { Token } from \"./settings\";\n\nexport default function Accounts(props: Props) {\n  const [accountFilter, setAccountFilter] = React.useState<string>(\"\");\n\n  const handleAddAccount = (value: string) => {\n    try {\n      props.onAddAccountToWatchList(value);\n    } catch (err) {\n      openError(\"Cannot Add Account to Watch List\", (err as any).toString());\n    }\n  };\n\n  const handleFilterAccount: ChangeEventHandler<HTMLInputElement> = (e) => {\n    setAccountFilter(e.target.value);\n  };\n  return (\n    <React.Fragment>\n      <div>\n        <Space direction=\"vertical\">\n          <Input.Search\n            style={{ width: 500 }}\n            placeholder=\"Add Account to Watch List\"\n            enterButton=\"Add\"\n            size=\"large\"\n            onSearch={handleAddAccount}\n          />\n        </Space>\n      </div>\n      <div style={{ textAlign: \"right\" }}>\n        <Space direction=\"vertical\">\n          <Input\n            placeholder=\"Filter Account\"\n            prefix={<UserOutlined />}\n            size=\"large\"\n            onChange={handleFilterAccount}\n          />\n        </Space>\n      </div>\n      {props.accounts.reduce((accounts, account) => {\n        if (!account.includes(accountFilter)) {\n          return accounts;\n        }\n        accounts.push(\n          <Space>\n            <Account\n              key={account}\n              cronosService={props.cronosService}\n              onRemoveFromWishList={() =>\n                props.onRemoveAccountFromWishList(account)\n              }\n              account={account}\n              tokens={props.tokens}\n            />\n          </Space>\n        );\n        return accounts;\n      }, [] as any[])}\n    </React.Fragment>\n  );\n}\n\ntype Props = {\n  cronosService: CronosService;\n  onAddAccountToWatchList: (account: string) => void;\n  onRemoveAccountFromWishList: (account: string) => void;\n\n  accounts: string[];\n  tokens: Token[];\n};\n\nconst openError = (title: string, description: string) => {\n  notification.error({\n    message: title,\n    description,\n  });\n};\n","import React from 'react';\nimport { Routes, Route } from \"react-router-dom\";\nimport { useLocalStorage } from '@rehooks/local-storage';\nimport Layout from './Layout';\nimport Transaction from './Transaction';\nimport './App.css';\nimport CronosService from './service/cronos';\nimport { DEFAULT_SETTINGS, Settings } from './settings';\nimport Accounts from './Accounts';\n\nexport default function App() {\n  const [settings, setSettings] = useLocalStorage<Settings>('settings');\n\n  if (!settings) {\n    setSettings(DEFAULT_SETTINGS);\n    return <React.Fragment />;\n  }\n\n  const cronosService = new CronosService('https://evm-cronos.crypto.org');\n\n  const addAccountToWishList = (account: string) => {\n    if (!cronosService.isValidAddress(account)) {\n      throw new Error('invalid address');\n    }\n    if (settings.accounts.indexOf(account) !== -1) {\n      throw new Error('account already added');\n    }\n    setSettings({\n      ...settings,\n      accounts: [...settings!.accounts, account],\n    })\n  }\n\n  const removeAccountFromWishList = (account: string) => {\n    setSettings({\n      ...settings,\n      accounts: settings!.accounts.filter((value) => value !== account),\n    })\n  }\n\n  return (\n    <div className=\"App\">\n      <Routes>\n        <Route path=\"/\" element={<Layout />}>\n          <Route path=\"accounts\" element={<Accounts\n            cronosService={cronosService}\n            onAddAccountToWatchList={addAccountToWishList}\n            onRemoveAccountFromWishList={removeAccountFromWishList}\n            accounts={settings.accounts}\n            tokens={settings.tokens}\n          />} />\n          <Route path=\"transaction\" element={<Transaction cronosService={cronosService} />} />\n          {/* <Route path=\"settings\" element={<Transaction cronosService={cronosService} />} /> */}\n        </Route>\n      </Routes>\n    </div>\n  );\n}\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter as Router } from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <App />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}