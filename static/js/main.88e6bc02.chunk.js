(this["webpackJsonpcronos-webtool"]=this["webpackJsonpcronos-webtool"]||[]).push([[0],{341:function(e){e.exports=JSON.parse('[{"constant":true,"inputs":[],"name":"name","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_spender","type":"address"},{"name":"_value","type":"uint256"}],"name":"approve","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"totalSupply","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_from","type":"address"},{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transferFrom","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"decimals","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"}],"name":"balanceOf","outputs":[{"name":"balance","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"symbol","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transfer","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"},{"name":"_spender","type":"address"}],"name":"allowance","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"payable":true,"stateMutability":"payable","type":"fallback"},{"anonymous":false,"inputs":[{"indexed":true,"name":"owner","type":"address"},{"indexed":true,"name":"spender","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"from","type":"address"},{"indexed":true,"name":"to","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Transfer","type":"event"}]')},359:function(e,t,n){},450:function(e,t){},452:function(e,t){},454:function(e,t){},458:function(e,t){},482:function(e,t){},484:function(e,t){},493:function(e,t){},495:function(e,t){},505:function(e,t){},507:function(e,t){},621:function(e,t){},623:function(e,t){},630:function(e,t){},631:function(e,t){},649:function(e,t){},728:function(e,t,n){},729:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(46),s=n.n(r),o=(n(359),n(125)),i=n(92),u=n(51),l=n(32),d=n(337),p=n(229),b=n(15),f=p.a.TabPane;function m(){var e=Object(l.f)(),t=Object(l.g)(),n=e.pathname.slice(1);return Object(b.jsxs)(c.a.Fragment,{children:[Object(b.jsxs)(p.a,{defaultActiveKey:n,onChange:function(e){switch(e){case"accounts":t("/accounts");break;case"transaction":t("/transaction");break;case"settings":t("/settings")}},children:[Object(b.jsx)(f,{tab:"Accounts Balances",children:" "},"accounts"),Object(b.jsx)(f,{tab:"Query Transaction Status",children:" "},"transaction")]}),Object(b.jsx)(l.a,{})]})}var h,j=n(42),y=n.n(j),x=n(78),v=n(736),O=n(345),g=n(733),w=n(735),S=n(347),k=n(737),A=n(738),C=n(739),B=n(340),F=n.n(B),T=n(23),D=n(25),E=n(341),P=n(149),R=n.n(P),I=n(226),L=n.n(I);!function(e){e.NotOnChain="Not on Chain",e.SuccessOnChain="Success on chain",e.FailedOnChain="Failed on chain"}(h||(h={}));var H=function(){function e(t){Object(T.a)(this,e),this.url=t,this.web3=void 0,this.web3=new L.a(new L.a.providers.HttpProvider(t))}return Object(D.a)(e,[{key:"getTransactionRecord",value:function(){var e=Object(x.a)(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.web3.eth.getTransactionReceipt(t);case 2:if(null!==(n=e.sent)){e.next=5;break}return e.abrupt("return",{status:h.NotOnChain});case 5:if(n.status){e.next=7;break}return e.abrupt("return",{status:h.FailedOnChain,receipt:n});case 7:return e.abrupt("return",{status:h.SuccessOnChain,receipt:n});case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getBlockHeight",value:function(){var e=Object(x.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.web3.eth.getBlockNumber());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getBalance",value:function(){var e=Object(x.a)(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.web3.eth.getBalance(t);case 2:return n=e.sent,e.abrupt("return",new R.a(n));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getCRC20Balance",value:function(){var e=Object(x.a)(y.a.mark((function e(t,n){var a,c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new this.web3.eth.Contract(E,n),e.next=3,a.methods.balanceOf(t).call();case 3:return c=e.sent,e.abrupt("return",new R.a(c));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"isValidAddress",value:function(e){return this.web3.utils.isAddress(e)}}]),e}();function N(e){var t=c.a.useState([]),n=Object(u.a)(t,2),a=n[0],r=n[1],s=function(){var t=Object(x.a)(y.a.mark((function t(n){var c,s;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""!==n){t.next=2;break}return t.abrupt("return");case 2:return c=new Date,t.prev=3,t.next=6,e.cronosService.getTransactionRecord(n);case 6:s=t.sent,i={key:Date.now(),txHash:n,requestedAt:c,status:s.status,receipt:s.receipt},r([i].concat(Object(o.a)(a))),t.next=14;break;case 10:return t.prev=10,t.t0=t.catch(3),_("Get Transaction Error",t.t0.toString()),t.abrupt("return");case 14:case"end":return t.stop()}var i}),t,null,[[3,10]])})));return function(e){return t.apply(this,arguments)}}();return Object(b.jsxs)(c.a.Fragment,{children:[Object(b.jsx)(v.b,{direction:"vertical",children:Object(b.jsx)(O.a.Search,{placeholder:"Transaction Hash",enterButton:"Query",size:"large",onSearch:s,style:{width:650}})}),Object(b.jsx)(g.a,{dataSource:a,columns:W,pagination:!1}),";"]})}var W=[{title:"Requested At",dataIndex:"requestedAt",key:"requestedAt",render:function(e){return Object(b.jsx)("span",{children:e.toLocaleString()})}},{title:"Status",dataIndex:"status",key:"status",render:function(e){switch(e){case h.NotOnChain:return Object(b.jsx)(k.a,{style:{fontSize:22}});case h.SuccessOnChain:return Object(b.jsx)(A.a,{twoToneColor:"#52c41a",style:{fontSize:22}});case h.FailedOnChain:return Object(b.jsx)(C.a,{twoToneColor:"#eb2f96",style:{fontSize:22}})}}},{title:"Transaction Hash",dataIndex:"txHash",key:"txHash",render:function(e,t,n){return Object(b.jsxs)(c.a.Fragment,{children:[Object(b.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://cronos.crypto.org/explorer/tx/".concat(e),children:e}),Object(b.jsx)(w.a,{children:Object(b.jsx)(w.a.Panel,{header:"Transaction Receipt",children:!!t.receipt&&Object(b.jsx)(F.a,{iconStyle:"square",collapsed:1,src:t.receipt})},"receipt")})]})}}],_=function(e,t){S.a.error({message:e,description:t})},M=(n(728),{name:"CRO",symbol:"CRO",contractAddress:"",decimalPlaces:18}),z={version:1,accounts:[],tokens:[{name:"Dai Stablecoin",symbol:"DAI",contractAddress:"0xf2001b145b43032aaf5ee2884e456ccd805f677d",decimalPlaces:18},{name:"Tether USD",symbol:"USDT",contractAddress:"0x66e428c3f67a68878562e79A0234c1F83c208770",decimalPlaces:6},{name:"USD Coin",symbol:"USDC",contractAddress:"0xc21223249CA28397B4B6541dfFaEcC539BfF0c59",decimalPlaces:6},{name:"VVSToken",symbol:"VVS",contractAddress:"0x2D03bECE6747ADC00E1a131BBA1469C15fD11e03",decimalPlaces:18},{name:"Wrapped BTC",symbol:"WBTC",contractAddress:"0x062E66477Faf219F25D27dCED647BF57C3107d52",decimalPlaces:8},{name:"Wrapped ETH",symbol:"WETH",contractAddress:"0xe44Fd7fCb2b1581822D0c862B68222998a0c299a",decimalPlaces:18},{name:"Shiba",symbol:"SHIB",contractAddress:"0xbED48612BC69fA1CaB67052b42a95FB30C1bcFee",decimalPlaces:18},{name:"Doge",symbol:"DOGE",contractAddress:"0x1a8E39ae59e5556B56b76fCBA98d22c9ae557396",decimalPlaces:8}]},U=n(740),V=n(734),q=n(79);function G(e){var t=c.a.useState({time:new Date,blockNumber:0}),n=Object(u.a)(t,2),a=n[0],r=n[1],s=c.a.useState([]),l=Object(u.a)(s,2),d=l[0],p=l[1],f=function(){var t=Object(x.a)(y.a.mark((function t(){var n,a,c,s,u;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.cronosService.getBlockHeight();case 2:return n=t.sent,a=[M].concat(Object(o.a)(e.tokens)),c=a.map((function(t){return t===M?e.cronosService.getBalance(e.account):e.cronosService.getCRC20Balance(e.account,t.contractAddress)})),t.next=7,Promise.all(c);case 7:s=t.sent,u=s.map((function(e,t){var n=a[t];return{key:n.name,name:n.name,balance:e.dividedBy(new R.a(10).pow(n.decimalPlaces)).toFormat(n.decimalPlaces,Object(i.a)(Object(i.a)({},Q),{},{suffix:" ".concat(n.symbol)}))}})),p(u),r({time:new Date,blockNumber:n});case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return c.a.useEffect((function(){0===d.length&&f();var e=setInterval((function(){f()}),15e3);return function(){return clearInterval(e)}})),Object(b.jsx)(V.a,{title:Object(b.jsxs)(c.a.Fragment,{children:[Object(b.jsx)("div",{children:Object(b.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://cronos.crypto.org/explorer/address/".concat(e.account),children:e.account})}),Object(b.jsxs)("div",{children:[a.time.toLocaleString()," at Block #",a.blockNumber]})]}),extra:Object(b.jsx)(q.a,{onClick:function(){return e.onRemoveFromWishList()},children:"Remove"}),style:{width:600},children:Object(b.jsx)(g.a,{dataSource:d,columns:J,pagination:!1})})}var J=[{title:"Token",dataIndex:"name",key:"name"},{title:"Balance",dataIndex:"balance",key:"balance",align:"right",render:function(e){return Object(b.jsx)("span",{style:{fontFamily:"Nunito,Helvetica Neue,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol"},children:e})}}],Q={prefix:"",decimalSeparator:".",groupSeparator:",",groupSize:3,secondaryGroupSize:0,fractionGroupSeparator:" ",fractionGroupSize:0,suffix:""};function K(e){var t=c.a.useState(""),n=Object(u.a)(t,2),a=n[0],r=n[1];return Object(b.jsxs)(c.a.Fragment,{children:[Object(b.jsx)("div",{children:Object(b.jsx)(v.b,{direction:"vertical",children:Object(b.jsx)(O.a.Search,{style:{width:500},placeholder:"Add Account to Watch List",enterButton:"Add",size:"large",onSearch:function(t){try{e.onAddAccountToWatchList(t)}catch(n){X("Cannot Add Account to Watch List",n.toString())}}})})}),Object(b.jsx)("div",{style:{textAlign:"right"},children:Object(b.jsx)(v.b,{direction:"vertical",children:Object(b.jsx)(O.a,{placeholder:"Filter Account",prefix:Object(b.jsx)(U.a,{}),size:"large",onChange:function(e){r(e.target.value)}})})}),e.accounts.reduce((function(t,n){return n.includes(a)?(t.push(Object(b.jsx)(v.b,{children:Object(b.jsx)(G,{cronosService:e.cronosService,onRemoveFromWishList:function(){return e.onRemoveAccountFromWishList(n)},account:n,tokens:e.tokens},n)})),t):t}),[])]})}var X=function(e,t){S.a.error({message:e,description:t})};function Y(){var e=Object(d.useLocalStorage)("settings"),t=Object(u.a)(e,2),n=t[0],a=t[1];if(!n)return a(z),Object(b.jsx)(c.a.Fragment,{});var r=new H("https://evm-cronos.crypto.org");return Object(b.jsx)("div",{className:"App",children:Object(b.jsx)(l.d,{children:Object(b.jsxs)(l.b,{path:"/",element:Object(b.jsx)(m,{}),children:[Object(b.jsx)(l.b,{path:"accounts",element:Object(b.jsx)(K,{cronosService:r,onAddAccountToWatchList:function(e){if(!r.isValidAddress(e))throw new Error("invalid address");if(-1!==n.accounts.indexOf(e))throw new Error("account already added");a(Object(i.a)(Object(i.a)({},n),{},{accounts:[].concat(Object(o.a)(n.accounts),[e])}))},onRemoveAccountFromWishList:function(e){a(Object(i.a)(Object(i.a)({},n),{},{accounts:n.accounts.filter((function(t){return t!==e}))}))},accounts:n.accounts,tokens:n.tokens})}),Object(b.jsx)(l.b,{path:"transaction",element:Object(b.jsx)(N,{cronosService:r})})]})})})}var Z=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,741)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))},$=n(174);s.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)($.a,{children:Object(b.jsx)(Y,{})})}),document.getElementById("root")),Z()}},[[729,1,2]]]);
//# sourceMappingURL=main.88e6bc02.chunk.js.map